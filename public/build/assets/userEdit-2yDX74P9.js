$(document).ready(function(){$("option").each(function(){var e=$(this).text();e.length>20&&(e=e.substring(0,19)+"...",$(this).text(e))}),$("#started-date").datepicker({dateFormat:"dd/mm/yy",onSelect:function(e){$("#started-date").valid()}}),$("#password").on("input",function(){$("#password").val().length>0?($("#password").closest(".input-group").find("label").addClass("input-required"),$("#repassword").closest(".input-group").find("label").addClass("input-required")):($("#password").closest(".input-group").find("label").removeClass("input-required"),$("#repassword").closest(".input-group").find("label").removeClass("input-required"))}),$("#formEditUser").validate({rules:{name:{required:!0,maxlength:100},email:{required:!0,checkValidEmailRFC:!0,maxlength:255,remote:{headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:$("#check_mail_url").data("add-route"),type:"GET",contentType:"application/json",data:{id:function(){return $("#id").val()},email:function(){return $("#email").val()},_token:$('meta[name="csrf-token"]').attr("content")},dataFilter:function(e){return console.log(e),e==="true"?(console.log("OK"),!1):!0}}},group_id:{required:!0,notNull:!0,onlyNumberAndAlphabetOneByte:!0},position_id:{required:!0,notNull:!0,onlyNumberAndAlphabetOneByte:!0},started_date:{required:!0,dateDMY:!0},password:{stringValueRange:[8,20],onlyNumberAndAlphabetForPassword:!0,maxlength:20},repassword:{required:function(e){return $("#password").val().length>0},onlyNumberAndAlphabetForPassword:!0,equalTo:"#password",maxlength:20}},messages:{email:{remote:"すでにメールアドレスは登録されています。"},started_date:{dateDMY:"Started Dateは日付を正しく入力してください。"},password:{},repassword:{equalTo:"確認用のパスワードが間違っています。"},group_id:{notNull:"Groupは必須です。"},position_id:{notNull:"Positionは必須です。"}}}),$("#deleteButton").on("click",function(){var e=$("#current-userId").val();if($("#id").val()!=e)$("#deleteUserModal").modal("show");else{var t=$('<div class="alert alert-danger text-white p-1 error-remove">').append($("<span>").text("すでに証明書番号は登録されています。"));$(".error-delete").empty().append(t)}}),$("#deleteUserForm").on("submit",function(){$("#okButton").prop("disabled",!0)})});
